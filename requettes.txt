CREATE TABLE utilisateurs (
id INT AUTO_INCREMENT PRIMARY KEY,
nom VARCHAR(100) NOT NULL,
email VARCHAR(100) UNIQUE NOT NULL,
mot_de_passe VARCHAR(255) NOT NULL,
role VARCHAR(255) NOT NULL,
profil VARCHAR(255) NOT NULL,
-- la colonne statut c'est pour savoir si l'utilisateur est supprimer (quand cest à 1)
statut INT,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


CREATE TABLE membres (
id INT AUTO_INCREMENT PRIMARY KEY,
nom VARCHAR(50) NOT NULL,
postnom VARCHAR(50) NOT NULL,
prenom VARCHAR(50) NOT NULL,   
adresse TEXT,
telephone VARCHAR(20),
email VARCHAR(100),
-- la colonne statut c'est pour savoir si le membre est supprimer quand cest à 1
statut INT,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);



-- Table des categories boutique
CREATE TABLE categorie (
id INT AUTO_INCREMENT PRIMARY KEY,
designation VARCHAR(50) NOT NULL,
-- la colonne statut c'est pour savoir si la categorie est supprimer (quand cest à 1)
statut INT,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


-- Table des boutiques
CREATE TABLE boutiques (
id INT AUTO_INCREMENT PRIMARY KEY,
numero VARCHAR(50) NOT NULL,
surface DECIMAL(10,2),
etat ENUM('libre', 'occupée') DEFAULT 'libre',
categorie int,
-- la colonne statut c'est pour savoir si la chambre est supprimer quand cest à 1
statut INT,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


-- Tables des affectation des membres
CREATE TABLE affectation (
id INT AUTO_INCREMENT PRIMARY KEY,
date DATE,
membre INT NOT NULL,
boutique INT NOT NULL,   
-- la colonne statut c'est pour savoir si une affectation est supprimer (quand cest à 1)
statut INT,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


-- Table des contrats
CREATE TABLE contrats (
id INT AUTO_INCREMENT PRIMARY KEY,
date_debut DATE NOT NULL,
date_fin DATE,
categorie INT, -- pour l'id de la categorie
loyer_mensuel DECIMAL(10,2) NOT NULL,
date_paiement INT NOT NULL, -- Jour limitte de paiment 
conditions_speciales TEXT,
-- la colonne statut c'est pour savoir si un contrat est supprimer (quand cest à 1)
statut INT,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


-- Table des charges connexes
CREATE TABLE charges (
id INT AUTO_INCREMENT PRIMARY KEY,
designation VARCHAR(50) NOT NULL,
-- la colonne statut c'est pour savoir si la categorie est supprimer (quand cest à 1)
statut INT,
created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


-- Table des aligements
CREATE TABLE aligements (
    id INT AUTO_INCREMENT PRIMARY KEY,
    date DATE NOT NULL,
    affectation_id INT, -- pour l'alignement spécifique
    charge_id INT, -- pour l'alignement global
    montant DECIMAL(10,2) NOT NULL,
    statut INT DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);